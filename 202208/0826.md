# 22/08/26

## 이터러블

### 개념
- 이터레이션 프로토콜을 준수한 객체
- `for...of / spread syntax / array destructuring` 을 사용할 수 있음

### 등장 배경
- 데이터 순회에 대한 인터페이스를 통일하기 위해
	- ES6 이전에는 데이터 컬렉션 별로 순회 방법이 달랐음
		- array, DOM Collection, arguments, string 등
- 이터레이션 프로토콜을 준수하는 모든 객체에 공통 순회 방법을 제공함으로써, 데이터 구현과 접근을 모두 효율적으로 할 수 있도록 함
	- `for...of / spread syntax / array destructuring`

### 프로토콜 명세
- 이터레이션 프로토콜
	- 이터러블 프로토콜
		- 이터러블 객체는 `[Symbol.iterator]`를 key로 갖는 메서드를 소유해야 한다
		- 이터러블 객체의 `[Symbol.iterator]`메서드는 이터레이터를 반환해야 한다
	- 이터레이터 프로토콜
		- 이터레이터 객체는 `next()`메서드를 가지고 있어야 한다
		- `next()`메서드는 `value / done` 프로퍼티를 가지는 객체를 반환해야 한다.
			- value
				- 매 순회에서 반환할 값
			- done
				- 순회 종료 조건을 나타내는 프로퍼티
				- done이 true면 순회를 종료한다
				- 없어도 이터레이터로 볼 수 있음(무한 반복 이터레이터)

### 이터러블 / 이터레이터

#### 이터러블
- 순회의 대상이 되는 객체
-  `[Symbol.iterator]`메서드로 이터레이터를 반환해야 함

#### 이터레이터
- 이터러블을 순회하는 로직을 담은 객체
	- **이터러블의 요소에 접근하여 순회 가능하다 !== 이터러블의 모든 값에 접근해야 한다**
		- 이터러블의 모든 프로퍼티를 순회해야만 하는 것은 아님
- next() 메서드를 이용해 이터러블을 순회

#### *일반 객체를 이터러블로 만들지 않은 이유?*
- 자료구조 각각 쓰임새에 맞게 사용하기 위해
	- 순회하고 싶으면 => `Array`
	- 순서가 없는 키: 값으로 관리하고 싶으면 => `Object`
	- 수학적 집합처럼 중복값을 허용하지 않으려면 => `Set`
	- 키: 값을 사용하면서 순회도 하고싶다면 => `Map`
- 성능 관리를 위해
	- 하나의 객체는 하나의 역할을 하자
		- 함수를 용도에 따라 분리한 것과 같은 맥락
		- 모든 객체를 Map으로 사용한다면?
			- 객체 생성마다 불필요한 오버헤드가 발생


