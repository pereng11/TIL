# 22/12/10

## 팀 프로젝트 - My Buddy Hero

### Mission 컴포넌트 개발 기록

#### MissionForm

##### form 이벤트의 elements 프로퍼티 사용하기
- form 요소는 기본적으로 elements라는 프로퍼티에 자신의 자식 요소를 담는다.
	- [모던 자바스크립트 튜토리얼](https://ko.javascript.info/form-elements)
- 상위 컴포넌트인 MissionForm 컴포넌트에서 Input 컴포넌트의 value에 접근하기 위해 elements 프로퍼티를 사용하고자 하였다.
- 기능에는 문제가 없었지만, e.target에서 elements 프로퍼티를 찾을 수 없다는 타입 에러가 발생했다.
	![[스크린샷 2022-12-10 오후 5.02.17.png]]

###### 첫번째 시도 - elements에 대한 새로운 인터페이스를 확장하자

- stack overflow를 참조하여, 내가 사용할 elements에 대해 구체적인 타입을 명시하는 것으로 문제를 해결하려 했다.
- [stack overflow](https://stackoverflow.com/questions/29907163/how-to-work-with-form-elements-in-typescript)

```jsx
interface FormElements extends HTMLFormControlsCollection {
  mission: HTMLInputElement[];
  description: HTMLTextAreaElement;
}

export const MissionForm = ({ onSubmit, onClose }: MissionFormProps) => {
  const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {
    e.preventDefault();
    const formElements = e.target.elements as FormElements;
    const [title, maxReceiver] = [...e.target.elements.mission].map(
      (input) => input.value
    );
    const description = e.target.elements.description.value;
```

- elements 프로퍼티에 대한 타입은 명시하였으나, EventTarget에 elements라는 프로퍼티가 있다는 것을 여전히 추론할 수 없었다. 

###### 두번째 시도 - React의 타입 추론 과정을 이해하자

- React의 SyntheticEvent에서는 FormEvent에 대한 타입을 
	- BaseSyntheticEvent<E, EventTarget & T, EventTarget>