# 22/09/30

## 오늘의 한줄평

- 접근이 잘못된 것 같으면 과감히 엎고 처음부터 시작하는 것도 좋은 방법이다

## CBD_SPA 라이브러리 만들기

### diff 알고리즘

- 다음 리팩토링 때 고려해야할 사항들
	- 노드 타입에 따라 처리 다르게 하기
		- textNode는 value값만 확인하기
		- commentNode도 확인하기(주석 노드)
	- attributes와 property 각각 처리하기
		- 처리해야하는 property에 어떤 게 있는지 생각해보자
	- key를 어떻게 활용해야 할지
		- 어정쩡하게 쓰니까 아예 안쓰는 것보다 더 비효율적이다
	- 이벤트 핸들러가 정상적으로 부착되어있는지 신경쓰기
		- 중복되는 경우, 사라져야 하는데 남아있는 경우

### 상태관리 구조 짜기

#### 이벤트 핸들러를 어떤 방식으로 부착할까
- 하나의 요소에 달아서 위임하기
	- window, document 등
- 해당 컴포넌트에 접근해서 부착하기
	- DOMString을 노드로 바꾼 뒤 접근
- 어떤 컴포넌트에서 결정할까
	- 컨테이너 컴포넌트(Todo)
	- 하위 컴포넌트(TodoInput)

#### 상태 변화 -> 렌더링으로 이어지는 흐름을 어떻게 구조화할까
- 다른 공간으로 분리할 수 있는 함수와 아닌 함수를 구분하자
	- 상태와 상태를 조작하는 함수는 함께 있는 것이 자연스럽다
		- state와 setState, render는 붙어있어야 한다

#### 컴포넌트의 역할 범위는 어디까지?
- 컨테이너 컴포넌트와 하위 컴포넌트를 구분해서 생각해야하나?
	- 구분한다면
		- Todo 컴포넌트에서 하위 컴포넌트를 조립하고, 상태와 상태조작 함수를 관리
		- TodoInput, TodoList 등 하위 컴포넌트에서는 DOMString만 반환하기
			- 이벤트 핸들러는 여기에서 달아주는 게 맞나?
	- 구분하지 않는다면
		- 상태와 상태조작 함수를 분리한다면?
		- 모든 컴포넌트는 자신의 DOMString을 반환하고 각자의 이벤트 핸들러를 관리한다