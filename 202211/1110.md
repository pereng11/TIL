## 리액트와 선언형 프로그래밍

### 라이프 사이클 - 클래스형 컴포넌트

- 생명주기 단계에 따라 선언형 / 명령형이 달라진다
- 실제로 DOM에 업데이트가 되었느냐를 기준으로 앞은 선언적, 뒤는 명령적으로 개발하게 됨
- DOM을 조작하는 것은 그 자체로 side effect를 일으키는 것이기 때문에 
- 생명주기 메서드를 phase에 따라 구분해보면
	- render: 리액트 내부에 존재하는 단계
		- constructor / render
	- pre-commit: DOM을 통해 컴포넌트를 찾을 수 있지만 layout / paint 이전의 단계
		- getSnapshotBeforeUpdate
	- commit: 컴포넌트가 실제로 DOM에 존재하는 단계
		- componentDidMount
		- componentDidUpdate
			- reflow / repaint 된 이후에 실행된다.
			- 따라서 화면이 부자연스럽게 움직일 수 있다.
			- 위 문제를 해결하기 위해 getSnapshotBeforeUpdate 메서드를 함께 사용할 수 있다.
		- componentWillUnmount
- render는 리액트 컴포넌트를 반환하는 것이지 실제로 브라우저에 렌더링하지 않는다. 따라서 commit단계라고 할 수 없음.

- getDerivedStateFromProps
	- 정적메서드이기 때문에 this로 인스턴스를 볼 수 없음
- shouldComponentUpdate
	- 렌더링 여부를 컴포넌트 스스로 결정할 수 있도록 하는 메서드

- 함수형 컴포넌트는 라이프 사이클 메서드를 제공하지 않는다.
	- 하지만 비슷한 역할을 할 수 있는 hook을 제공한다

- 리스트 렌더링의 key에 index를 넣으면 안되는 이유
	- 의도하지 않은 렌더링 결과가 나타날 수 있다.

- 에러 핸들링 컴포넌트는 아직 함수형 컴포넌트로 대체할 수 없다.
	- 아래 메서드를 제공하지 않기 때문에
	- static getDerivedStateFromError
	- componentDidCatch
