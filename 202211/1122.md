# 22/11/22

## React

- useMemo / useCallback
	- props으로 전달되는 값/함수를 메모이제이션하기 위해 사용한다.
	- 리액트 컴포넌트는 props가 바뀌면 리렌더링된다.
	- props로 전달되는 값/함수가 실제로는 값이 동일하지만 참조만 바뀐 경우 불필요한 리렌더링이 발생한다.
		- 함수형 컴포넌트는 매번 새로 생성되기 때문에 내부의 변수 또한 매번 새로 생성된다.
		- 이때 객체 타입의 변수들은 참조값이 매번 바뀌기 때문에 리액트 내부에서 항상 다른 값으로 인식된다.
	- 따라서 props가 실제로 변하는 경우에만 리렌더링하도록 최적화하기 위해 사용한다.
	- useCallback
		- 전달된 **콜백 함수**를 기억한다
		- 함수를 기억하고 싶을 때 useMemo를 사용하면 코드가 지저분해지기 때문에 useCallback을 사용한다.
	- useMemo
		- 전달된 콜백 함수가 **반환하는 값**을 기억한다.

### 꿀팁

- 최적화를 위하여 페이지 컴포넌트는 기본 내보내기(export default)를 사용하는 것을 권장한다
	- 현재 리액트에서 기본 내보내기에 대해서만 코드 스플리팅을 제공하기 때문에
- eslint를 맹신하지 말자. 

## Styled-components

- 비표준 속성을 사용할 때, html에 직접 적용되지 않도록 attrs()를 이용하여 transient props를 사용하자

```jsx
export const Container = styled.div.attrs(({ maxWidth, usingFlex }) => ({
// maxWidth, usingFlex는 비표준 속성이다.
// 따라서 html 마크업에 적용되지 않도록 $를 이용해 transient props로 바꿔서 사용하자.
  $mw: maxWidth,
  $uf: usingFlex,
}))`
  ${({ $uf }) =>
    $uf &&
    `
      display: flex;
      flex-flow: column wrap;
    `}
  max-width: ${({ $mw }) => ($mw ? `${$mw}px` : null)};
  margin-left: auto;
  margin-right: auto;
`;

```